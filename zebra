% zebra puzzle
%
% There are 5 houses each of a different colour: (RED, GREEN,
% IVORY, BLUE, YELLOW) and inhabited by a person of a particular
% nationality (Japanese, Englishman, Norwegian, Russian, Spaniard)
% with a particular pet (horse, snail, zebra, fox, dog), drink
% (water, coffee, tea, milk, orange juice) and brand of cigarettes
% (LuckyStrike, Winston, Chesterfields, Kools, Parliaments).
%
% It is given that:
%
% 1.	The Englishman lives in the RED house.V
% 2.	The Spaniard owns the dog.V
% 3.	The Norwegian lives in the first house on the left.V
% 4.	Kools are smoked in the YELLOW house.V
% 5.	The man who smokes Chesterfields lives in the house
%       next to the man with the fox.V
% 6.	The Norwegian lives next to the BLUE house.V
% 7.	The Winston smoker owns snails.V
% 8.	The LuckyStrike smoker drinks orange juice.V
% 9.	The Russian drinks tea.V
% 10.	The Japanese smokes Parliaments.V
% 11.	Kools are smoked in the house next to the house where
%       the horse is kept.V
% 12.	Coffee is drunk in the GREEN house.V
% 13.	The GREEN house is immediately to the right of the
%       IVORY house.V
% 14.	Milk is drunk in the middle house.V
%
% A zebra is found wandering in the streets and the animal
% shelter wants to find out who let the zebra out, that is,
% which house the zebra belongs to.
%
%
% This famous problem has a unique solution, that follows:
%
% Number 	cigarettes	country	colour	pet	drink
% ==============================================================
% 1	kools		Norway	yellow	fox	water
% 2	chesterfields	Russia	blue	horse	tea
% 3	winston		England	red	snails	milk
% 4	luckyStrike	Spain	ivory	dog	orange juice
% 5	parliaments  	Japan	green	zebra	coffee




nazionalita(giapponese).
nazionalita(inglese).
nazionalita(norvegese).
nazionalita(russo).
nazionalita(spagnolo).

posizione(1,norvegese).
beve(russo,tea).
fuma(giapponese,parliaments).
possiede(spagnolo,cane).
vive(inglese,rosso).

posizione(1,X)|posizione(2,X)|posizione(3,X)|posizione(4,X)|posizione(5,X):-nazionalita(X).
:-posizione(X,Y),posizione(X,Z),Y!=Z.
:-posizione(X,Y),posizione(Z,Y),X!=Z.

vive(X,rosso)|vive(X,verde)|vive(X,avorio)|vive(X,blue)|vive(X,giallo):-nazionalita(X).
:-vive(X,Y),vive(X,Z),Y!=Z.
:-vive(X,Y),vive(Z,Y),X!=Z.
:-posizione(2,X),not vive(X,blue).

possiede(X,cavallo)|possiede(X,lumache)|possiede(X,zebra)|possiede(X,volpe)|possiede(X,cane):-nazionalita(X).
:-possiede(X,Y),possiede(X,Z),Y!=Z.
:-possiede(X,Y),possiede(Z,Y),X!=Z.

beve(X,acqua)|beve(X,caffe)|beve(X,tea)|beve(X,latte)|beve(X,succo):-nazionalita(X).
:-beve(X,Y),beve(X,Z),Y!=Z.
:-beve(X,Y),beve(Z,Y),X!=Z.
:-posizione(3,X),not beve(X,latte).

fuma(X,luckystrike)|fuma(X,winston)|fuma(X,chesterfields)|fuma(X,kools)|fuma(X,parliaments):-nazionalita(X).
:-fuma(X,Y),fuma(X,Z),Y!=Z.
:-fuma(X,Y),fuma(Z,Y),X!=Z.

accanto(Z,T):-posizione(X,Z),posizione(Y,T),X=Y+1.

:-fuma(X,kools),not vive(X,giallo).
:-fuma(X,winston),not possiede(X,lumache).
:-fuma(X,luckystrike), not beve(X,succo).
:-beve(X,caffe),not vive(X,verde).
:-posizione(X,norvegese),vive(norvegese,Y),vive(Z,blue),posizione(Z,W),not accanto(norvegese,Z),not accanto(Z,norvegese).
:-fuma(X,chesterfields),posizione(Y,X),possiede(Y,volpe),posizione(W,Y), not accanto(X,Y), not accanto(Y,X).
:-fuma(X,kools),posizione(Y,X),possiede(Z,cavallo),posizione(W,Z),not accanto(X,Z), not accanto(Z,X).
:-posizione(X,Y),vive(Y,verde),posizione(Z,W),vive(W,avorio),not accanto(Y,W).

soluzione(P,S,N,C,A,D):-posizione(P,N),fuma(N,S),vive(N,C),possiede(N,A),beve(N,D).
